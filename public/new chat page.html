<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clyra.ai Chat</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #0b0b0f 0%, #3a006b 100%);
      color: #ffffff;
      height: 100%;
      overflow: hidden;
    }

    html {
      height: 100%;
    }

    * {
      box-sizing: border-box;
    }

    .container {
      display: flex;
      flex-direction: column;
      height: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      display: flex;
      align-items: center;
      padding: 10px 0 20px 0;
    }

    .logo {
      font-size: 18px;
      font-weight: 600;
      letter-spacing: -0.5px;
    }

    .logo-main {
      color: #ffffff;
    }

    .logo-suffix {
      color: #a855f7;
    }

    .chat-container {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 24px;
      margin-bottom: 20px;
      scrollbar-width: thin;
      scrollbar-color: rgba(168, 85, 247, 0.3) transparent;
    }

    .chat-container::-webkit-scrollbar {
      width: 6px;
    }

    .chat-container::-webkit-scrollbar-track {
      background: transparent;
    }

    .chat-container::-webkit-scrollbar-thumb {
      background: rgba(168, 85, 247, 0.3);
      border-radius: 3px;
    }

    .message {
      display: flex;
      flex-direction: column;
      max-width: 75%;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.ai {
      align-self: flex-start;
    }

    .message.user {
      align-self: flex-end;
    }

    .token-count {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.5);
      margin-bottom: 6px;
      padding: 0 4px;
    }

    .message.user .token-count {
      text-align: right;
    }

    .message-bubble {
      padding: 14px 18px;
      border-radius: 18px;
      line-height: 1.5;
      font-size: 15px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .message.ai .message-bubble {
      background: #ffffff;
      color: #1a1a1a;
      border-bottom-left-radius: 4px;
    }

    .message.user .message-bubble {
      background: #2d8fff;
      color: #ffffff;
      border-bottom-right-radius: 4px;
      box-shadow: 0 2px 12px rgba(45, 143, 255, 0.3);
    }

    .input-container {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 24px;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .input-icons {
      display: flex;
      gap: 8px;
    }

    .icon-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      background: transparent;
      color: rgba(255, 255, 255, 0.6);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .icon-button:hover {
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.9);
    }

    .input-field {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: #ffffff;
      font-size: 15px;
      padding: 8px 4px;
    }

    .input-field::placeholder {
      color: rgba(255, 255, 255, 0.4);
    }

    .send-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      background: linear-gradient(135deg, #a855f7 0%, #6366f1 100%);
      color: #ffffff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      box-shadow: 0 2px 8px rgba(168, 85, 247, 0.4);
    }

    .send-button:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(168, 85, 247, 0.6);
    }

    .send-button:active {
      transform: scale(0.95);
    }

    .model-tag {
      position: absolute;
      bottom: 90px;
      right: 40px;
      background: rgba(255, 255, 255, 0.1);
      padding: 6px 14px;
      border-radius: 12px;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }

    @media (max-width: 768px) {
      .message {
        max-width: 85%;
      }

      .model-tag {
        bottom: 80px;
        right: 30px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <div class="header">
    <div class="logo"><span class="logo-main" id="logo-main">Clyra</span><span class="logo-suffix" id="logo-suffix">.ai</span>
    </div>
   </div>
   <div class="chat-container" id="chat-container">
    <div class="message ai">
     <div class="token-count">
      Tokens: 2950 (prompt: 2793, completion: 157)
     </div>
     <div class="message-bubble">
      Hello! I'm Clyra, your AI assistant from RudraCore. How can I help you today?
     </div>
    </div>
    <div class="message user">
     <div class="token-count">
      Tokens: 45 (prompt: 45, completion: 0)
     </div>
     <div class="message-bubble">
      Can you help me build a responsive website?
     </div>
    </div>
    <div class="message ai">
     <div class="token-count">
      Tokens: 3421 (prompt: 2838, completion: 583)
     </div>
     <div class="message-bubble">
      Absolutely! I'd be happy to help you build a responsive website. Let's start by discussing what kind of website you're looking to create. What's the purpose of your site, and do you have any specific features or design preferences in mind?
     </div>
    </div>
   </div>
   <div class="model-tag" id="model-tag">
    gemini-2.5-flash
   </div>
   <div class="input-container">
    <div class="input-icons"><button class="icon-button" aria-label="Attach file">
      <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48" />
      </svg></button> <button class="icon-button" aria-label="Voice input">
      <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" /> <path d="M19 10v2a7 7 0 0 1-14 0v-2" /> <line x1="12" y1="19" x2="12" y2="23" /> <line x1="8" y1="23" x2="16" y2="23" />
      </svg></button>
    </div><input type="text" class="input-field" id="input-field" placeholder="How can Clyra.ai help you today?"> <button class="send-button" id="send-button" aria-label="Send message">
     <svg width="18" height="18" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
     </svg></button>
   </div>
  </div>
  <script>
    const defaultConfig = {
      logo_text: "Clyra",
      logo_suffix: ".ai",
      input_placeholder: "How can Clyra.ai help you today?",
      model_name: "gemini-2.5-flash"
    };

    async function onConfigChange(config) {
      document.getElementById('logo-main').textContent = config.logo_text || defaultConfig.logo_text;
      document.getElementById('logo-suffix').textContent = config.logo_suffix || defaultConfig.logo_suffix;
      document.getElementById('input-field').placeholder = config.input_placeholder || defaultConfig.input_placeholder;
      document.getElementById('model-tag').textContent = config.model_name || defaultConfig.model_name;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["logo_text", config.logo_text || defaultConfig.logo_text],
        ["logo_suffix", config.logo_suffix || defaultConfig.logo_suffix],
        ["input_placeholder", config.input_placeholder || defaultConfig.input_placeholder],
        ["model_name", config.model_name || defaultConfig.model_name]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    const chatContainer = document.getElementById('chat-container');
    const inputField = document.getElementById('input-field');
    const sendButton = document.getElementById('send-button');

    function addMessage(text, isUser = false) {
      const message = document.createElement('div');
      message.className = `message ${isUser ? 'user' : 'ai'}`;
      
      const tokenCount = Math.floor(Math.random() * 1000) + 500;
      const promptTokens = Math.floor(tokenCount * 0.85);
      const completionTokens = tokenCount - promptTokens;
      
      message.innerHTML = `
        <div class="token-count">Tokens: ${tokenCount} (prompt: ${promptTokens}, completion: ${completionTokens})</div>
        <div class="message-bubble">${text}</div>
      `;
      
      chatContainer.appendChild(message);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function handleSend() {
      const text = inputField.value.trim();
      if (text) {
        addMessage(text, true);
        inputField.value = '';
        
        setTimeout(() => {
          addMessage("I'm processing your request. This is a demo interface, so I'm showing you how messages would appear in a real conversation!");
        }, 800);
      }
    }

    sendButton.addEventListener('click', handleSend);
    
    inputField.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        handleSend();
      }
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99a2235fc2b12e35',t:'MTc2MjQwNjM5MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>